{"filter":false,"title":"views.py","tooltip":"/app/views.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":138,"column":36},"end":{"row":138,"column":47},"action":"insert","lines":["triplet_v2/"],"id":55}],[{"start":{"row":124,"column":11},"end":{"row":125,"column":0},"action":"insert","lines":["",""],"id":56},{"start":{"row":125,"column":0},"end":{"row":125,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":125,"column":4},"end":{"row":125,"column":57},"action":"insert","lines":["sys.path.insert(1, '/path/to/application/app/folder')"],"id":57}],[{"start":{"row":125,"column":24},"end":{"row":125,"column":55},"action":"remove","lines":["/path/to/application/app/folder"],"id":58},{"start":{"row":125,"column":24},"end":{"row":125,"column":36},"action":"insert","lines":["./triplet_v2"]}],[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"insert","lines":["s"],"id":59},{"start":{"row":1,"column":8},"end":{"row":1,"column":9},"action":"insert","lines":["y"]},{"start":{"row":1,"column":9},"end":{"row":1,"column":10},"action":"insert","lines":["s"]},{"start":{"row":1,"column":10},"end":{"row":1,"column":11},"action":"insert","lines":[","]}],[{"start":{"row":1,"column":11},"end":{"row":1,"column":12},"action":"insert","lines":[" "],"id":60}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":18},"action":"remove","lines":["import numpy as np"],"id":61},{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]},{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":35},"action":"remove","lines":["from datetime import datetime, date"],"id":62}],[{"start":{"row":2,"column":109},"end":{"row":2,"column":116},"action":"remove","lines":["session"],"id":63},{"start":{"row":2,"column":108},"end":{"row":2,"column":109},"action":"remove","lines":[" "]},{"start":{"row":2,"column":107},"end":{"row":2,"column":108},"action":"remove","lines":[","]}],[{"start":{"row":2,"column":96},"end":{"row":2,"column":107},"action":"remove","lines":[", send_file"],"id":64}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":27},"action":"remove","lines":["from subprocess import call"],"id":65},{"start":{"row":9,"column":46},"end":{"row":10,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["",""],"id":66}],[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":67}],[{"start":{"row":120,"column":24},"end":{"row":120,"column":25},"action":"insert","lines":["/"],"id":68},{"start":{"row":120,"column":25},"end":{"row":120,"column":26},"action":"insert","lines":["w"]},{"start":{"row":120,"column":26},"end":{"row":120,"column":27},"action":"insert","lines":["o"]},{"start":{"row":120,"column":27},"end":{"row":120,"column":28},"action":"insert","lines":["r"]},{"start":{"row":120,"column":28},"end":{"row":120,"column":29},"action":"insert","lines":["k"]},{"start":{"row":120,"column":29},"end":{"row":120,"column":30},"action":"insert","lines":["s"]}],[{"start":{"row":120,"column":30},"end":{"row":120,"column":31},"action":"insert","lines":["p"],"id":69}],[{"start":{"row":120,"column":25},"end":{"row":120,"column":31},"action":"remove","lines":["worksp"],"id":70},{"start":{"row":120,"column":25},"end":{"row":120,"column":34},"action":"insert","lines":["workspace"]}],[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"insert","lines":["/"],"id":71},{"start":{"row":120,"column":35},"end":{"row":120,"column":36},"action":"insert","lines":["a"]},{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"insert","lines":["p"]}],[{"start":{"row":120,"column":37},"end":{"row":120,"column":38},"action":"insert","lines":["p"],"id":72},{"start":{"row":120,"column":38},"end":{"row":120,"column":39},"action":"insert","lines":["/"]}],[{"start":{"row":120,"column":39},"end":{"row":120,"column":40},"action":"remove","lines":["."],"id":73},{"start":{"row":120,"column":39},"end":{"row":120,"column":40},"action":"remove","lines":["/"]}],[{"start":{"row":128,"column":27},"end":{"row":128,"column":39},"action":"remove","lines":["./triplet_v2"],"id":74},{"start":{"row":128,"column":27},"end":{"row":128,"column":52},"action":"insert","lines":["/workspace/app/triplet_v2"]}],[{"start":{"row":129,"column":29},"end":{"row":129,"column":41},"action":"remove","lines":["./triplet_v2"],"id":75},{"start":{"row":129,"column":29},"end":{"row":129,"column":54},"action":"insert","lines":["/workspace/app/triplet_v2"]}],[{"start":{"row":133,"column":35},"end":{"row":133,"column":46},"action":"remove","lines":["/triplet_v2"],"id":76},{"start":{"row":133,"column":35},"end":{"row":133,"column":60},"action":"insert","lines":["/workspace/app/triplet_v2"]}],[{"start":{"row":134,"column":34},"end":{"row":134,"column":46},"action":"remove","lines":["./triplet_v2"],"id":77},{"start":{"row":134,"column":34},"end":{"row":134,"column":59},"action":"insert","lines":["/workspace/app/triplet_v2"]}],[{"start":{"row":145,"column":12},"end":{"row":145,"column":20},"action":"remove","lines":["UPLOADED"],"id":78},{"start":{"row":145,"column":12},"end":{"row":145,"column":13},"action":"insert","lines":["D"]},{"start":{"row":145,"column":13},"end":{"row":145,"column":14},"action":"insert","lines":["O"]},{"start":{"row":145,"column":14},"end":{"row":145,"column":15},"action":"insert","lines":["N"]},{"start":{"row":145,"column":15},"end":{"row":145,"column":16},"action":"insert","lines":["E"]}],[{"start":{"row":145,"column":16},"end":{"row":145,"column":17},"action":"insert","lines":[" "],"id":79}],[{"start":{"row":145,"column":16},"end":{"row":145,"column":17},"action":"remove","lines":[" "],"id":80}],[{"start":{"row":144,"column":8},"end":{"row":144,"column":56},"action":"remove","lines":["#call([\"python3\", \"/app/triplet_v2/run_all.py\"])"],"id":81},{"start":{"row":144,"column":8},"end":{"row":159,"column":43},"action":"insert","lines":["sys.path.insert(1, '/workspace/app/triplet_v2')","    import main_functions as mf","    import glob","    # Data preprocession","    mf.trans_data()","    # Train DNN","    mf.train_dnn(num_epochs=1) #DEBUG 10 ","    # Validation DNN","    val_files = glob.glob('/workspace/app/triplet_v2/val_data'+'/*.csv')","    train_files = glob.glob('/workspace/app/triplet_v2/train_data'+'/*.csv')","    res=mf.proc_validation(list_files=val_files+train_files)","    print(\"The minimum precision of one class among all files:\",res[0],\"%\")","    # Forecast based on DNN","    mf.proc_predict(input_folder='./workspace/app/triplet_v2/train_data')","    mf.proc_predict(input_folder='/workspace/app/triplet_v2/val_data')","    print(\"All operations have been done!\")"]}],[{"start":{"row":145,"column":0},"end":{"row":145,"column":4},"action":"insert","lines":["    "],"id":82},{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"insert","lines":["    "]},{"start":{"row":147,"column":0},"end":{"row":147,"column":4},"action":"insert","lines":["    "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":4},"action":"insert","lines":["    "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":4},"action":"insert","lines":["    "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":4},"action":"insert","lines":["    "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":4},"action":"insert","lines":["    "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":4},"action":"insert","lines":["    "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":4},"action":"insert","lines":["    "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":4},"action":"insert","lines":["    "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":4},"action":"insert","lines":["    "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":4},"action":"insert","lines":["    "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":4},"action":"insert","lines":["    "]},{"start":{"row":158,"column":0},"end":{"row":158,"column":4},"action":"insert","lines":["    "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":145,"column":0},"end":{"row":145,"column":4},"action":"insert","lines":["    "],"id":83},{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"insert","lines":["    "]},{"start":{"row":147,"column":0},"end":{"row":147,"column":4},"action":"insert","lines":["    "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":4},"action":"insert","lines":["    "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":4},"action":"insert","lines":["    "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":4},"action":"insert","lines":["    "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":4},"action":"insert","lines":["    "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":4},"action":"insert","lines":["    "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":4},"action":"insert","lines":["    "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":4},"action":"insert","lines":["    "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":4},"action":"insert","lines":["    "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":4},"action":"insert","lines":["    "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":4},"action":"insert","lines":["    "]},{"start":{"row":158,"column":0},"end":{"row":158,"column":4},"action":"insert","lines":["    "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":145,"column":0},"end":{"row":145,"column":4},"action":"remove","lines":["    "],"id":84},{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"remove","lines":["    "]},{"start":{"row":147,"column":0},"end":{"row":147,"column":4},"action":"remove","lines":["    "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":4},"action":"remove","lines":["    "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":4},"action":"remove","lines":["    "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":4},"action":"remove","lines":["    "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":4},"action":"remove","lines":["    "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":4},"action":"remove","lines":["    "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":4},"action":"remove","lines":["    "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":4},"action":"remove","lines":["    "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":4},"action":"remove","lines":["    "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":4},"action":"remove","lines":["    "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":4},"action":"remove","lines":["    "]},{"start":{"row":158,"column":0},"end":{"row":158,"column":4},"action":"remove","lines":["    "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":145,"column":0},"end":{"row":145,"column":4},"action":"remove","lines":["    "],"id":85},{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"remove","lines":["    "]},{"start":{"row":147,"column":0},"end":{"row":147,"column":4},"action":"remove","lines":["    "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":4},"action":"remove","lines":["    "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":4},"action":"remove","lines":["    "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":4},"action":"remove","lines":["    "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":4},"action":"remove","lines":["    "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":4},"action":"remove","lines":["    "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":4},"action":"remove","lines":["    "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":4},"action":"remove","lines":["    "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":4},"action":"remove","lines":["    "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":4},"action":"remove","lines":["    "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":4},"action":"remove","lines":["    "]},{"start":{"row":158,"column":0},"end":{"row":158,"column":4},"action":"remove","lines":["    "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":144,"column":0},"end":{"row":144,"column":4},"action":"remove","lines":["    "],"id":86}],[{"start":{"row":121,"column":0},"end":{"row":135,"column":43},"action":"remove","lines":["    import main_functions as mf","    import glob","    # Data preprocession","    mf.trans_data()","    # Train DNN","    mf.train_dnn(num_epochs=1) #DEBUG 10 ","    # Validation DNN","    val_files = glob.glob('/workspace/app/triplet_v2/val_data'+'/*.csv')","    train_files = glob.glob('/workspace/app/triplet_v2/train_data'+'/*.csv')","    res=mf.proc_validation(list_files=val_files+train_files)","    print(\"The minimum precision of one class among all files:\",res[0],\"%\")","    # Forecast based on DNN","    mf.proc_predict(input_folder='./workspace/app/triplet_v2/train_data')","    mf.proc_predict(input_folder='/workspace/app/triplet_v2/val_data')","    print(\"All operations have been done!\")"],"id":87}],[{"start":{"row":154,"column":0},"end":{"row":176,"column":0},"action":"remove","lines":["","        # CREATE FOLDER IF NOT EXIST","        # try:","        #     os.makedirs(app.config['APP_ROOT']+\"videos/\") #+request.form.get('videoText')","        # except OSError as e:","        #     pass","        ","        # # SAVE UPLOADED VIDEO","        # for f in request.files.getlist('videoFile'):","        #     filename_out = \"video_input.mp4\"#str(random.randrange(10,10000))+\"_\"+f.filename","        #     f.save(app.config['APP_ROOT']+\"videos/\"+filename_out) #+request.form.get('videoText')","            ","        # text = \"TEXT\"","        # if (request.form.get('videoText')!=\"\"):","        #     text = request.form.get('videoText')","        ","        # return render_template('layouts/default.html', content=render_template('pages/progress.html', filename=filename_out, text=text))","        ","        # # GENERATE","        # # REDIRECT TO VIDEOPLAYER PAGE","        # return redirect(url_for('player', link_download=request.host_url+\"download/\"+output_filename, link=request.host_url+\"output/\"+output_filename, **request.args))","",""],"id":88}],[{"start":{"row":153,"column":4},"end":{"row":153,"column":21},"action":"remove","lines":["return \"UPLOADED\""],"id":89},{"start":{"row":153,"column":4},"end":{"row":168,"column":17},"action":"insert","lines":["import main_functions as mf","    import glob","    # Data preprocession","    mf.trans_data()","    # Train DNN","    mf.train_dnn(num_epochs=1) #DEBUG 10 ","    # Validation DNN","    val_files = glob.glob('/workspace/app/triplet_v2/val_data'+'/*.csv')","    train_files = glob.glob('/workspace/app/triplet_v2/train_data'+'/*.csv')","    res=mf.proc_validation(list_files=val_files+train_files)","    print(\"The minimum precision of one class among all files:\",res[0],\"%\")","    # Forecast based on DNN","    mf.proc_predict(input_folder='./workspace/app/triplet_v2/train_data')","    mf.proc_predict(input_folder='/workspace/app/triplet_v2/val_data')","    print(\"All operations have been done!\")","    return \"DONE\""]}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"insert","lines":[" "],"id":90}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"remove","lines":[" "],"id":91}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"insert","lines":["2"],"id":92}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"remove","lines":["2"],"id":93}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"insert","lines":["-"],"id":94},{"start":{"row":168,"column":17},"end":{"row":168,"column":18},"action":"insert","lines":["т"]},{"start":{"row":168,"column":18},"end":{"row":168,"column":19},"action":"insert","lines":["у"]},{"start":{"row":168,"column":19},"end":{"row":168,"column":20},"action":"insert","lines":["Ц"]}],[{"start":{"row":168,"column":19},"end":{"row":168,"column":20},"action":"remove","lines":["Ц"],"id":95},{"start":{"row":168,"column":18},"end":{"row":168,"column":19},"action":"remove","lines":["у"]},{"start":{"row":168,"column":17},"end":{"row":168,"column":18},"action":"remove","lines":["т"]},{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"remove","lines":["-"]}],[{"start":{"row":168,"column":16},"end":{"row":168,"column":17},"action":"insert","lines":["_"],"id":96},{"start":{"row":168,"column":17},"end":{"row":168,"column":18},"action":"insert","lines":["Т"]},{"start":{"row":168,"column":18},"end":{"row":168,"column":19},"action":"insert","lines":["У"]},{"start":{"row":168,"column":19},"end":{"row":168,"column":20},"action":"insert","lines":["Ц"]}],[{"start":{"row":168,"column":19},"end":{"row":168,"column":20},"action":"remove","lines":["Ц"],"id":97},{"start":{"row":168,"column":18},"end":{"row":168,"column":19},"action":"remove","lines":["У"]},{"start":{"row":168,"column":17},"end":{"row":168,"column":18},"action":"remove","lines":["Т"]}],[{"start":{"row":168,"column":17},"end":{"row":168,"column":18},"action":"insert","lines":["N"],"id":98},{"start":{"row":168,"column":18},"end":{"row":168,"column":19},"action":"insert","lines":["E"]},{"start":{"row":168,"column":19},"end":{"row":168,"column":20},"action":"insert","lines":["W"]}],[{"start":{"row":152,"column":70},"end":{"row":153,"column":0},"action":"insert","lines":["",""],"id":99},{"start":{"row":153,"column":0},"end":{"row":153,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":153,"column":4},"end":{"row":153,"column":8},"action":"remove","lines":["    "],"id":100}],[{"start":{"row":153,"column":4},"end":{"row":153,"column":51},"action":"insert","lines":["sys.path.insert(1, '/workspace/app/triplet_v2')"],"id":101}],[{"start":{"row":120,"column":4},"end":{"row":120,"column":51},"action":"remove","lines":["sys.path.insert(1, '/workspace/app/triplet_v2')"],"id":102},{"start":{"row":120,"column":4},"end":{"row":120,"column":70},"action":"insert","lines":["send_from_directory('/workspace/output', path, as_attachment=True)"]}],[{"start":{"row":120,"column":36},"end":{"row":120,"column":42},"action":"remove","lines":["output"],"id":103},{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"insert","lines":["a"]},{"start":{"row":120,"column":37},"end":{"row":120,"column":38},"action":"insert","lines":["p"]},{"start":{"row":120,"column":38},"end":{"row":120,"column":39},"action":"insert","lines":["p"]},{"start":{"row":120,"column":39},"end":{"row":120,"column":40},"action":"insert","lines":["/"]}],[{"start":{"row":120,"column":40},"end":{"row":120,"column":41},"action":"insert","lines":["t"],"id":104},{"start":{"row":120,"column":41},"end":{"row":120,"column":42},"action":"insert","lines":["r"]},{"start":{"row":120,"column":42},"end":{"row":120,"column":43},"action":"insert","lines":["i"]},{"start":{"row":120,"column":43},"end":{"row":120,"column":44},"action":"insert","lines":["p"]},{"start":{"row":120,"column":44},"end":{"row":120,"column":45},"action":"insert","lines":["l"]},{"start":{"row":120,"column":45},"end":{"row":120,"column":46},"action":"insert","lines":["e"]},{"start":{"row":120,"column":46},"end":{"row":120,"column":47},"action":"insert","lines":["t"]},{"start":{"row":120,"column":47},"end":{"row":120,"column":48},"action":"insert","lines":["_"]},{"start":{"row":120,"column":48},"end":{"row":120,"column":49},"action":"insert","lines":["v"]},{"start":{"row":120,"column":49},"end":{"row":120,"column":50},"action":"insert","lines":["2"]}],[{"start":{"row":120,"column":50},"end":{"row":120,"column":51},"action":"insert","lines":["/"],"id":105},{"start":{"row":120,"column":51},"end":{"row":120,"column":52},"action":"insert","lines":["f"]},{"start":{"row":120,"column":52},"end":{"row":120,"column":53},"action":"insert","lines":["o"]},{"start":{"row":120,"column":53},"end":{"row":120,"column":54},"action":"insert","lines":["r"]},{"start":{"row":120,"column":54},"end":{"row":120,"column":55},"action":"insert","lines":["e"]},{"start":{"row":120,"column":55},"end":{"row":120,"column":56},"action":"insert","lines":["c"]},{"start":{"row":120,"column":56},"end":{"row":120,"column":57},"action":"insert","lines":["a"]},{"start":{"row":120,"column":57},"end":{"row":120,"column":58},"action":"insert","lines":["s"]},{"start":{"row":120,"column":58},"end":{"row":120,"column":59},"action":"insert","lines":["t"]},{"start":{"row":120,"column":59},"end":{"row":120,"column":60},"action":"insert","lines":["s"]}],[{"start":{"row":119,"column":11},"end":{"row":119,"column":95},"action":"insert","lines":["/app/triplet_v2/forecasts/real_2019-10-08-2019-10-08_not-system-wm_5dee1d38b66bd.csv"],"id":106}],[{"start":{"row":119,"column":11},"end":{"row":119,"column":37},"action":"remove","lines":["/app/triplet_v2/forecasts/"],"id":107}],[{"start":{"row":119,"column":11},"end":{"row":119,"column":69},"action":"remove","lines":["real_2019-10-08-2019-10-08_not-system-wm_5dee1d38b66bd.csv"],"id":108}],[{"start":{"row":120,"column":63},"end":{"row":120,"column":67},"action":"remove","lines":["path"],"id":109}],[{"start":{"row":120,"column":63},"end":{"row":120,"column":65},"action":"insert","lines":["\"\""],"id":110}],[{"start":{"row":120,"column":64},"end":{"row":120,"column":122},"action":"insert","lines":["real_2019-10-08-2019-10-08_not-system-wm_5dee1d38b66bd.csv"],"id":111}],[{"start":{"row":121,"column":0},"end":{"row":123,"column":17},"action":"remove","lines":["","    ","    return \"DONE\""],"id":112}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":113}],[{"start":{"row":120,"column":4},"end":{"row":120,"column":5},"action":"insert","lines":["r"],"id":114},{"start":{"row":120,"column":5},"end":{"row":120,"column":6},"action":"insert","lines":["e"]},{"start":{"row":120,"column":6},"end":{"row":120,"column":7},"action":"insert","lines":["t"]},{"start":{"row":120,"column":7},"end":{"row":120,"column":8},"action":"insert","lines":["u"]},{"start":{"row":120,"column":8},"end":{"row":120,"column":9},"action":"insert","lines":["r"]},{"start":{"row":120,"column":9},"end":{"row":120,"column":10},"action":"insert","lines":["n"]}],[{"start":{"row":120,"column":10},"end":{"row":120,"column":14},"action":"remove","lines":["    "],"id":115}],[{"start":{"row":120,"column":10},"end":{"row":120,"column":11},"action":"insert","lines":[" "],"id":116}],[{"start":{"row":118,"column":18},"end":{"row":118,"column":38},"action":"insert","lines":[", methods = ['POST']"],"id":117}],[{"start":{"row":1,"column":43},"end":{"row":1,"column":57},"action":"insert","lines":["import zipfile"],"id":118}],[{"start":{"row":1,"column":49},"end":{"row":1,"column":50},"action":"remove","lines":[" "],"id":119},{"start":{"row":1,"column":48},"end":{"row":1,"column":49},"action":"remove","lines":["t"]},{"start":{"row":1,"column":47},"end":{"row":1,"column":48},"action":"remove","lines":["r"]},{"start":{"row":1,"column":46},"end":{"row":1,"column":47},"action":"remove","lines":["o"]},{"start":{"row":1,"column":45},"end":{"row":1,"column":46},"action":"remove","lines":["p"]},{"start":{"row":1,"column":44},"end":{"row":1,"column":45},"action":"remove","lines":["m"]},{"start":{"row":1,"column":43},"end":{"row":1,"column":44},"action":"remove","lines":["i"]}],[{"start":{"row":1,"column":43},"end":{"row":1,"column":44},"action":"insert","lines":["б"],"id":120}],[{"start":{"row":1,"column":44},"end":{"row":1,"column":45},"action":"insert","lines":[" "],"id":121}],[{"start":{"row":1,"column":44},"end":{"row":1,"column":45},"action":"remove","lines":[" "],"id":122},{"start":{"row":1,"column":43},"end":{"row":1,"column":44},"action":"remove","lines":["б"]}],[{"start":{"row":1,"column":43},"end":{"row":1,"column":44},"action":"insert","lines":[","],"id":123}],[{"start":{"row":1,"column":44},"end":{"row":1,"column":45},"action":"insert","lines":[" "],"id":124}],[{"start":{"row":101,"column":0},"end":{"row":116,"column":16},"action":"remove","lines":["","# HOOK TO SHOW PROGRESS WITH SOCKETIO FROM OTHER MODULE PROCESS","import multiprocessing","def start(filename_out, text):","    generator = Generator(phrase=text, videoname=filename_out)","    generator.generate_video()","    ","@app.route('/generate', methods = ['POST'])","def generate():","    if request.method == 'POST':","        filename_out = request.get_json()['filename']","        text = request.get_json()['text']","        ","        thread = multiprocessing.Process(target=start, args=(filename_out, text))","        thread.start()","    return \"NEW\""],"id":125}],[{"start":{"row":89,"column":0},"end":{"row":101,"column":0},"action":"remove","lines":["    # if not current_user.is_authenticated:","    #     return redirect(url_for('login'))","","    # return render_template('layouts/default.html', content=render_template('pages/index.html'))","","# @app.route('/output/<path:path>')","# def send_video(path):","#     return send_from_directory('/workspace/output', path)","    ","# @app.route('/download/<path:path>')","# def download_video(path):","#     return send_from_directory('/workspace/output', path, as_attachment=True)",""],"id":126}],[{"start":{"row":88,"column":4},"end":{"row":89,"column":0},"action":"remove","lines":["",""],"id":127}],[{"start":{"row":91,"column":11},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":128},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":92,"column":4},"end":{"row":96,"column":16},"action":"insert","lines":["zipf = zipfile.ZipFile('Name.zip','w', zipfile.ZIP_DEFLATED)","    for root,dirs, files in os.walk('output/'):","        for file in files:","            zipf.write('output/'+file)","    zipf.close()"],"id":129}],[{"start":{"row":96,"column":16},"end":{"row":97,"column":0},"action":"insert","lines":["",""],"id":130},{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":92,"column":28},"end":{"row":92,"column":32},"action":"remove","lines":["Name"],"id":131},{"start":{"row":92,"column":28},"end":{"row":92,"column":29},"action":"insert","lines":["в"]},{"start":{"row":92,"column":29},"end":{"row":92,"column":30},"action":"insert","lines":["щ"]},{"start":{"row":92,"column":30},"end":{"row":92,"column":31},"action":"insert","lines":["ц"]},{"start":{"row":92,"column":31},"end":{"row":92,"column":32},"action":"insert","lines":["т"]},{"start":{"row":92,"column":32},"end":{"row":92,"column":33},"action":"insert","lines":["д"]},{"start":{"row":92,"column":33},"end":{"row":92,"column":34},"action":"insert","lines":["щ"]},{"start":{"row":92,"column":34},"end":{"row":92,"column":35},"action":"insert","lines":["ф"]},{"start":{"row":92,"column":35},"end":{"row":92,"column":36},"action":"insert","lines":["в"]}],[{"start":{"row":92,"column":28},"end":{"row":92,"column":36},"action":"remove","lines":["вщцтдщфв"],"id":132},{"start":{"row":92,"column":28},"end":{"row":92,"column":29},"action":"insert","lines":["d"]},{"start":{"row":92,"column":29},"end":{"row":92,"column":30},"action":"insert","lines":["o"]},{"start":{"row":92,"column":30},"end":{"row":92,"column":31},"action":"insert","lines":["w"]},{"start":{"row":92,"column":31},"end":{"row":92,"column":32},"action":"insert","lines":["n"]},{"start":{"row":92,"column":32},"end":{"row":92,"column":33},"action":"insert","lines":["l"]},{"start":{"row":92,"column":33},"end":{"row":92,"column":34},"action":"insert","lines":["o"]},{"start":{"row":92,"column":34},"end":{"row":92,"column":35},"action":"insert","lines":["a"]},{"start":{"row":92,"column":35},"end":{"row":92,"column":36},"action":"insert","lines":["d"]}],[{"start":{"row":93,"column":37},"end":{"row":93,"column":43},"action":"remove","lines":["output"],"id":133},{"start":{"row":93,"column":37},"end":{"row":93,"column":62},"action":"insert","lines":["/app/triplet_v2/forecasts"]}],[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"insert","lines":["/"],"id":134},{"start":{"row":93,"column":38},"end":{"row":93,"column":39},"action":"insert","lines":["w"]},{"start":{"row":93,"column":39},"end":{"row":93,"column":40},"action":"insert","lines":["o"]},{"start":{"row":93,"column":40},"end":{"row":93,"column":41},"action":"insert","lines":["r"]},{"start":{"row":93,"column":41},"end":{"row":93,"column":42},"action":"insert","lines":["k"]},{"start":{"row":93,"column":42},"end":{"row":93,"column":43},"action":"insert","lines":["s"]},{"start":{"row":93,"column":43},"end":{"row":93,"column":44},"action":"insert","lines":["p"]},{"start":{"row":93,"column":44},"end":{"row":93,"column":45},"action":"insert","lines":["a"]},{"start":{"row":93,"column":45},"end":{"row":93,"column":46},"action":"insert","lines":["c"]},{"start":{"row":93,"column":46},"end":{"row":93,"column":47},"action":"insert","lines":["e"]}],[{"start":{"row":93,"column":47},"end":{"row":93,"column":48},"action":"insert","lines":["/"],"id":135}],[{"start":{"row":95,"column":23},"end":{"row":95,"column":32},"action":"remove","lines":["'output/'"],"id":136},{"start":{"row":95,"column":23},"end":{"row":95,"column":62},"action":"insert","lines":["'/workspace//app/triplet_v2/forecasts/'"]}],[{"start":{"row":92,"column":28},"end":{"row":92,"column":67},"action":"insert","lines":["'/workspace//app/triplet_v2/forecasts/'"],"id":137}],[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"remove","lines":["/"],"id":138}],[{"start":{"row":95,"column":35},"end":{"row":95,"column":36},"action":"remove","lines":["/"],"id":139}],[{"start":{"row":93,"column":48},"end":{"row":93,"column":49},"action":"remove","lines":["/"],"id":140}],[{"start":{"row":92,"column":44},"end":{"row":92,"column":65},"action":"remove","lines":["triplet_v2/forecasts/"],"id":141},{"start":{"row":92,"column":44},"end":{"row":92,"column":45},"action":"remove","lines":["'"]}],[{"start":{"row":92,"column":28},"end":{"row":92,"column":29},"action":"remove","lines":["'"],"id":142}],[{"start":{"row":98,"column":47},"end":{"row":98,"column":67},"action":"remove","lines":["triplet_v2/forecasts"],"id":143}],[{"start":{"row":98,"column":51},"end":{"row":98,"column":109},"action":"remove","lines":["real_2019-10-08-2019-10-08_not-system-wm_5dee1d38b66bd.csv"],"id":144},{"start":{"row":98,"column":51},"end":{"row":98,"column":52},"action":"insert","lines":["d"]},{"start":{"row":98,"column":52},"end":{"row":98,"column":53},"action":"insert","lines":["o"]},{"start":{"row":98,"column":53},"end":{"row":98,"column":54},"action":"insert","lines":["w"]},{"start":{"row":98,"column":54},"end":{"row":98,"column":55},"action":"insert","lines":["n"]},{"start":{"row":98,"column":55},"end":{"row":98,"column":56},"action":"insert","lines":["l"]},{"start":{"row":98,"column":56},"end":{"row":98,"column":57},"action":"insert","lines":["a"]},{"start":{"row":98,"column":57},"end":{"row":98,"column":58},"action":"insert","lines":["d"]}],[{"start":{"row":98,"column":57},"end":{"row":98,"column":58},"action":"remove","lines":["d"],"id":145},{"start":{"row":98,"column":56},"end":{"row":98,"column":57},"action":"remove","lines":["a"]}],[{"start":{"row":98,"column":56},"end":{"row":98,"column":57},"action":"insert","lines":["o"],"id":146},{"start":{"row":98,"column":57},"end":{"row":98,"column":58},"action":"insert","lines":["a"]},{"start":{"row":98,"column":58},"end":{"row":98,"column":59},"action":"insert","lines":["d"]},{"start":{"row":98,"column":59},"end":{"row":98,"column":60},"action":"insert","lines":["."]},{"start":{"row":98,"column":60},"end":{"row":98,"column":61},"action":"insert","lines":["z"]},{"start":{"row":98,"column":61},"end":{"row":98,"column":62},"action":"insert","lines":["i"]},{"start":{"row":98,"column":62},"end":{"row":98,"column":63},"action":"insert","lines":["p"]}],[{"start":{"row":90,"column":37},"end":{"row":90,"column":38},"action":"insert","lines":[","],"id":147}],[{"start":{"row":90,"column":38},"end":{"row":90,"column":39},"action":"insert","lines":[" "],"id":148}],[{"start":{"row":90,"column":39},"end":{"row":90,"column":41},"action":"insert","lines":["''"],"id":149}],[{"start":{"row":90,"column":40},"end":{"row":90,"column":41},"action":"insert","lines":["G"],"id":150},{"start":{"row":90,"column":41},"end":{"row":90,"column":42},"action":"insert","lines":["E"]},{"start":{"row":90,"column":42},"end":{"row":90,"column":43},"action":"insert","lines":["T"]}],[{"start":{"row":92,"column":4},"end":{"row":98,"column":85},"action":"remove","lines":["zipf = zipfile.ZipFile('/workspace/app/download.zip','w', zipfile.ZIP_DEFLATED)","    for root,dirs, files in os.walk('/workspace/app/triplet_v2/forecasts/'):","        for file in files:","            zipf.write('/workspace/app/triplet_v2/forecasts/'+file)","    zipf.close()","    ","    return send_from_directory('/workspace/app/', \"download.zip\", as_attachment=True)"],"id":151}],[{"start":{"row":90,"column":0},"end":{"row":93,"column":0},"action":"remove","lines":["@app.route('/test', methods = ['POST', 'GET'])","def test():","    ",""],"id":152}],[{"start":{"row":135,"column":43},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":153},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"insert","lines":["    "]},{"start":{"row":136,"column":4},"end":{"row":137,"column":0},"action":"insert","lines":["",""]},{"start":{"row":137,"column":0},"end":{"row":137,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":137,"column":4},"end":{"row":143,"column":85},"action":"insert","lines":["zipf = zipfile.ZipFile('/workspace/app/download.zip','w', zipfile.ZIP_DEFLATED)","    for root,dirs, files in os.walk('/workspace/app/triplet_v2/forecasts/'):","        for file in files:","            zipf.write('/workspace/app/triplet_v2/forecasts/'+file)","    zipf.close()","    ","    return send_from_directory('/workspace/app/', \"download.zip\", as_attachment=True)"],"id":154}],[{"start":{"row":144,"column":0},"end":{"row":145,"column":0},"action":"remove","lines":["    return \"DONE_NEW\"",""],"id":155}]]},"ace":{"folds":[],"scrolltop":1568,"scrollleft":0,"selection":{"start":{"row":120,"column":51},"end":{"row":120,"column":51},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":111,"state":"start","mode":"ace/mode/python"}},"timestamp":1583531181983,"hash":"e37342db0e4a8f3ec3c832dd00fe0b1b51e428e3"}